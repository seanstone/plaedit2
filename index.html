<!DOCTYPE html>
<html>
	<head>
		<title>Emscripten OpenGL Example</title>
		<style>
            * { margin:0; padding:none; border: 0px none }
            html, body { width:100%; height:100%; overflow: hidden; font-family:sans-serif; }
            canvas { display:block; width:100%; height:100%; z-index: 0; }
        </style>
		<script>
			var Module = {};
			Module.locateFile = function(x) { return "../dist/" + x };
		</script>
		<script src="dist/main.js"></script>
	</head>
	<body>
		<div style="position:absolute; left:5%; top:5%; z-index:1;">
			<input id="fileinput" type="file" accept=".pla"/>
			<button onclick="loadFileAsText()">LOAD</button>
		</div>
		<canvas id="canvas"></canvas>
		<script>
		function loadFileAsText(){
			var fileToLoad = document.getElementById("fileinput").files[0];
			if (!fileToLoad) alert("Please select file to upload!");
			else {
				var fileReader = new FileReader();
				fileReader.onload = function(fileLoadedEvent){
					Module['FS_createDataFile'](".", fileToLoad.name, fileReader.result, true, true);
					console.log(fileToLoad.name + " uploaded");
				};
				fileReader.readAsBinaryString(fileToLoad);
			}
		}
		</script>
	</body>
</html>
